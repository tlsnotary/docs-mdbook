# Commitment

The TLSNotary protocol completely hides the plaintext transcript from the `Notary`. At the same time we want to have a way for the `User` to selectively prove the authenticity of arbitrary portions of the plaintext to the `Verifier`.

Naively, we could extend the above `Encryption and Decryption` steps to also compute a commitment (e.g. a blake3 hash) to the plaintext in MPC and have the `Notary` sign that commitment. Then the `User` could open the commitment to the `Verifier`. Unfortunately such approach would be resource-heavy, and so we describe a more lightweight way of producing commitments. 

The high-level idea is that the `User` will commit to the [encodings](/building_blocks/encodings.md) of the plaintext during the execution of the [DEAP](/building_blocks/deap_deferred.md) protocol. Since those encodings are chosen by the `Notary` and are not known to the `User` at the time when she makes a commitment, they can be thought of as "authenticated plaintext". 


More low-level details for creating such a commitment are:

BEFORE the `Notary` "opens his gabled circuit" in Step 17 of [DEAP](/building_blocks/deap_deferred.md), the `User` commits (e.g. computes a blake3 hash) to the encodings of the plaintext generated by the `Notary` (i.e. the encoded output [v]_B from Step 8 in DEAP).

"Opening the garbled circuit" simply means that the `Notary` reveals and signs the seed of randomness which (among other things) was used to generate the [encoding](/building_blocks/encodings.md) of the plaintext. 

Having both the signed seed from the `Notary` and also the commitment to the plaintext encoding, the `User` can prove to any third-party Verifier the authenticity of the plaintext. 